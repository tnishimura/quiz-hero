const camelToDashMap=new Map;function camelToDash(e){let t=camelToDashMap.get(e);return void 0===t&&(t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),camelToDashMap.set(e,t)),t}function pascalToDash(e){return camelToDash(e.replace(/((?!([A-Z]{2}|^))[A-Z])/g,"-$1"))}function dispatch$1(e,t,r={}){return e.dispatchEvent(new CustomEvent(t,{bubbles:!1,...r}))}function shadyCSS(e,t){var r=window.ShadyCSS;return r&&!r.nativeShadow?e(r):t}function stringifyElement(e){return`<${String(e.tagName).toLowerCase()}>`}const deferred=Promise.resolve(),storePointer=new WeakMap,defaultTransform=e=>e,objectTransform=e=>{if("object"!=typeof e)throw TypeError("Assigned value must be an object: "+typeof e);return e&&Object.freeze(e)};function property(n,o,a){const s=new WeakMap;var e=typeof n;let i=defaultTransform;switch(e){case"string":i=String;break;case"number":i=Number;break;case"boolean":i=Boolean;break;case"function":i=n,n=i();break;case"object":n&&Object.freeze(n),i=objectTransform}return{get:(e,t=n)=>t,set:(e,t,r=n)=>i(t,r),connect:"object"!=e&&"undefined"!=e?(e,t,r)=>{var n;return s.has(e)||(n=camelToDash(t),s.set(e,n),e.hasAttribute(n)&&(n=e.getAttribute(n),e[t]=""===n&&i===Boolean||n)),o&&o(e,t,r)}:o,observe:"object"!=e&&"undefined"!=e?(e,t,r)=>{var n=s.get(e),o=!0===t?"":t;o!==e.getAttribute(n)&&(0===t||t?e.setAttribute(n,o):e.removeAttribute(n),a&&a(e,t,r))}:a}}function render$1(n,e={}){if("function"!=typeof n)throw TypeError("The first argument must be a function: "+typeof n);e={shadowRoot:!0,...e};const t={mode:"open"};"object"==typeof e.shadowRoot&&Object.assign(t,e.shadowRoot);const o=e.shadowRoot?e=>e.shadowRoot||e.attachShadow(t):e=>e;return{get(e){const t=n(e),r=o(e);return function(){return t(e,r),r}},observe(e,t){t()}}}const callbacks=new WeakMap,queue=new Set;function execute(){try{queue.forEach(t=>{try{callbacks.get(t)(),queue.delete(t)}catch(e){throw queue.delete(t),e}})}catch(e){throw queue.size&&execute(),e}}function dispatch(e){callbacks.has(e)&&(queue.size||requestAnimationFrame(execute),queue.add(e))}function subscribe(e,t){return callbacks.set(e,t),dispatch(e),function(){queue.delete(e),callbacks.delete(e)}}const entries=new WeakMap,suspense=new WeakSet;function getEntry(e,t){let r=entries.get(e);r||(r=new Map,entries.set(e,r));let n=r.get(t);return n||(n={target:e,key:t,value:void 0,lastValue:void 0,contexts:new Set,deps:new Set,state:0,depState:0,resolved:!1},r.set(t,n)),n}function getEntries(e){const t=[],r=entries.get(e);return r&&r.forEach(e=>{t.push(e)}),t}function cleanContexts(t){t.contexts.forEach(e=>{suspense.has(e.target)&&(Object.assign(e,{value:void 0,lastValue:void 0,depState:0,resolved:!1}),t.contexts.delete(e),cleanContexts(e))})}function dispatchDeep(e){e.resolved=!1,suspense.has(e.target)||dispatch(e),cleanContexts(e),e.contexts.forEach(dispatchDeep)}let context=null;const contexts=new Set;function get$1(e,r,n){const o=getEntry(e,r);if(context&&!suspense.has(context.target)&&(context.deps.add(o),o.contexts.add(context)),!suspense.has(e)){if(cleanContexts(o),o.resolved)return o.value;if(o.depState>o.state){let e=o.state;for(const t of o.deps){if(t.target[t.key],!t.resolved){e=!1;break}e+=t.state}if(e&&e===o.depState)return o.resolved=!0,o.value}}var a=context;try{if(contexts.has(o))throw Error(`Circular get invocation is forbidden: '${r}'`);o.deps.forEach(e=>{e.contexts.delete(o)}),o.deps.clear(),context=o,contexts.add(o);var s=n(e,o.value);context=a,s!==o.value&&(o.value=s,o.state+=1);let t=o.state;o.deps.forEach(e=>{t+=e.state}),o.depState=t,o.resolved=!suspense.has(e),contexts.delete(o)}catch(e){throw context=a,contexts.delete(o),o.resolved=!1,context&&!suspense.has(context)&&(context.deps.delete(o),o.contexts.delete(context)),e}return o.value}function set$2(e,t,r,n){const o=getEntry(e,t);n=r(e,n,o.value);n!==o.value&&(o.value=n,o.state+=1,o.depState=0,dispatchDeep(o))}const gcList=new Set;function deleteEntry(e){gcList.size||requestAnimationFrame(()=>{gcList.forEach(t=>{if(0===t.contexts.size){t.deps.forEach(e=>{e.contexts.delete(t)});const e=entries.get(t.target);e.delete(t.key)}}),gcList.clear()}),gcList.add(e)}function invalidateEntry(e,t){e.depState=0,dispatchDeep(e),t.clearValue&&(e.value=void 0,e.lastValue=void 0),t.deleteEntry&&deleteEntry(e),t.force&&(e.state+=1)}function invalidate(e,t,r={}){if(contexts.size)throw Error(`Invalidating property in chain of get calls is forbidden: '${t}'`);invalidateEntry(getEntry(e,t),r)}function invalidateAll(e,t={}){if(contexts.size)throw Error("Invalidating all properties in chain of get calls is forbidden");const r=entries.get(e);r&&r.forEach(e=>{invalidateEntry(e,t)})}function observe(t,r,n,o){const a=getEntry(t,r);return subscribe(a,()=>{var e=get$1(t,r,n);e!==a.lastValue&&(o(t,e,a.lastValue),a.lastValue=e)})}function suspend(e){suspense.add(e)}function unsuspend(e){suspense.delete(e)}const defaultMethod=(e,t)=>t,callbacksMap=new WeakMap,propsMap=new WeakMap;function translate(e,t){var r=typeof t;let n;if("function"==r)switch(e){case"render":n=render$1(t);break;case"content":n=render$1(t,{shadowRoot:!1});break;default:n={get:t}}else n="object"!=r||null===t||Array.isArray(t)?property(t):{get:t.get||defaultMethod,set:t.set||!t.get&&defaultMethod||void 0,connect:t.connect,observe:t.observe};return n}function compile(e,t,r=[]){e.hybrids=t;const o=[],n=Object.keys(t).filter(e=>!r.includes(e));callbacksMap.set(e,o),propsMap.set(e,n),n.forEach(r=>{const n=translate(r,t[r]);Object.defineProperty(e.prototype,r,{get:function(){return get$1(this,r,n.get)},set:n.set&&function(e){set$2(this,r,n.set,e)},enumerable:!0,configurable:!0}),n.observe&&o.unshift(e=>observe(e,r,n.get,n.observe)),n.connect&&o.push(t=>n.connect(t,r,e=>{invalidate(t,r,{force:e&&!0===e.force})}))})}function walkInShadow(e,t){t(e),Array.from(e.children).forEach(e=>walkInShadow(e,t)),e.shadowRoot&&Array.from(e.shadowRoot.children).forEach(e=>walkInShadow(e,t))}const updateQueue=new Map;function update(e,t){updateQueue.size||deferred.then(()=>{walkInShadow(document.body,r=>{if(updateQueue.has(r.constructor)){const n=updateQueue.get(r.constructor),o=r.constructor.hybrids;r.disconnectedCallback(),Object.keys(o).forEach(e=>{var t=typeof o[e],t="object"!=t&&"function"!=t&&o[e]!==n[e];invalidate(r,e,{clearValue:t})}),r.connectedCallback()}}),updateQueue.clear()}),updateQueue.set(e,t)}const disconnects=new WeakMap;function defineElement(e,t,r){var n=typeof t;if(!t||"object"!=n)throw TypeError("Second argument must be an object: "+n);if(null!==e){const a=window.customElements.get(e);if(a){if(a.hybrids===t)return a;if(a.hybrids){Object.keys(a.hybrids).forEach(e=>{delete a.prototype[e]});n=a.hybrids;return compile(a,t,r),update(a,n),a}return window.customElements.define(e,HTMLElement)}}class o extends HTMLElement{constructor(){super();var t=propsMap.get(o);for(let e=0;e<t.length;e+=1){var r,n=t[e];hasOwnProperty.call(this,n)&&(r=this[n],delete this[n],this[n]=r)}suspend(this)}connectedCallback(){unsuspend(this);const t=callbacksMap.get(o),r=[];for(let e=0;e<t.length;e+=1){var n=t[e](this);n&&r.push(n)}disconnects.set(this,r)}disconnectedCallback(){const t=disconnects.get(this);for(let e=0;e<t.length;e+=1)t[e]();suspend(this)}}return compile(o,t,r),null!==e&&(Object.defineProperty(o,"name",{get:()=>e}),customElements.define(e,o)),o}function defineTagged(e){return e.forEach(e=>{if("string"!=typeof e.tag)throw TypeError("Tagged element 'tag' property must be a string: "+e.tag);defineElement(pascalToDash(e.tag),e,["tag"])},{}),1===e.length?e[0]:e}function define(...e){return"object"==typeof e[0]&&null!==e[0]?defineTagged(e):defineElement(...e)}const connect=Symbol("store.connect"),definitions=new WeakMap,stales=new WeakMap,refs=new WeakSet;function resolve$1(e,t,r){return r&&(definitions.set(r,null),stales.set(r,t)),definitions.set(t,e),t}function shallowEqual(t,r){return Object.keys(t).every(e=>t[e]===r[e])}function resolveWithInvalidate(e,t,r){return resolve$1(e,t,r),!e.invalidate||r&&!error(t)&&e.isInstance(r)&&shallowEqual(t,r)||e.invalidate(),t}function syncCache(e,t,r,n=!0){return set$2(e,t,n?resolveWithInvalidate:resolve$1,r),r}let currentTimestamp;function getCurrentTimestamp(){return currentTimestamp||(currentTimestamp=Date.now(),requestAnimationFrame(()=>{currentTimestamp=void 0})),currentTimestamp}const timestamps=new WeakMap;function getTimestamp(e){let t=timestamps.get(e);return t||(t=getCurrentTimestamp(),timestamps.set(e,t)),t}function setTimestamp(e){return timestamps.set(e,getCurrentTimestamp()),e}function invalidateTimestamp(e){return timestamps.set(e,1),e}function hashCode(e){return window.btoa(Array.from(e).reduce((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0,0))}const offlinePrefix="hybrids:store:cache",offlineKeys={};let clearPromise;function setupOfflineKey(e,t){e=offlinePrefix+":"+hashCode(JSON.stringify(e.model));return offlineKeys[e]=getCurrentTimestamp()+t,clearPromise=clearPromise||Promise.resolve().then(()=>{const t=JSON.parse(window.localStorage.getItem(offlinePrefix))||{},r=getCurrentTimestamp();Object.keys(t).forEach(e=>{!offlineKeys[e]&&t[e]<r&&(window.localStorage.removeItem(e),delete t[e])}),window.localStorage.setItem(offlinePrefix,JSON.stringify({...t,...offlineKeys})),clearPromise=null}),e}function setupStorage(e,t){const n={cache:!0,loose:!1,...t="function"==typeof t?{get:t}:t};if(!1===n.cache||0===n.cache)n.validate=e=>!e||getTimestamp(e)===getCurrentTimestamp();else if("number"==typeof n.cache)n.validate=e=>!e||getTimestamp(e)+n.cache>getCurrentTimestamp();else if(!0!==n.cache)throw TypeError("Storage cache property must be a boolean or number: "+typeof n.cache);if(n.get||(n.get=e=>{throw notFoundError(stringifyId(e))}),n.offline){t=!0===n.offline;const o=t?2592e6:n.offline,a=setupOfflineKey(e,o);try{const s=JSON.parse(window.localStorage.getItem(a))||{};let r;n.offline=Object.freeze({key:a,threshold:o,get:t?e=>hasOwnProperty.call(s,e)?JSON.parse(s[e][1]):null:e=>{if(hasOwnProperty.call(s,e)){var t=s[e];return t[0]+o<getCurrentTimestamp()?(delete s[e],null):JSON.parse(t[1])}return null},set(e,t){return t?s[e]=[getCurrentTimestamp(),JSON.stringify(t,function(e,t){if(t===this[""])return t;if(t&&"object"==typeof t){const r=definitions.get(t);if(r&&r.storage.offline)return r.list?t.map(e=>(configs.get(r.model).storage.offline.set(e.id,e),""+e)):(r.storage.offline.set(t.id,t),""+t)}return t})]:delete s[e],r=r||Promise.resolve().then(()=>{const t=getCurrentTimestamp();Object.keys(s).forEach(e=>{s[e][0]+o<t&&delete s[e]}),window.localStorage.setItem(a,JSON.stringify(s)),r=null}),t}})}catch(e){console.error(e),n.offline=!1}}return Object.freeze(n)}function memoryStorage(n){return{get:n.enumerable?()=>{}:()=>n.create({}),set:n.enumerable?(e,t)=>t:(e,t)=>null===t?{id:e}:t,list:n.enumerable&&function(e){if(e)throw TypeError("Memory-based model definition does not support id");return getEntries(n).reduce((e,{key:t,value:r})=>(t===n||r&&!error(r)&&e.push(t),e),[])},loose:!0}}function bootstrap(e,t){return Array.isArray(e)?setupListModel(e[0],t):setupModel(e,t)}function getTypeConstructor(e,t){switch(e){case"string":return e=>null!=e?String(e):"";case"number":return Number;case"boolean":return Boolean;default:throw TypeError(`The value of the '${t}' must be a string, number or boolean: `+e)}}const stateSetter=(e,t,r)=>"error"===t.state?{state:"error",error:t.value}:(t.error=!!r&&r.error,t);function setModelState(e,t,r=e){return set$2(e,"state",stateSetter,{state:t,value:r}),e}const stateGetter=(e,t={state:"ready",value:e,error:!1})=>t;function getModelState(e){return get$1(e,"state",stateGetter)}function uuid(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,uuid)}function ref(e){if("function"!=typeof e)throw TypeError("The first argument must be a funtion: "+typeof e);return refs.add(e),e}const validationMap=new WeakMap;function resolveKey(e,t,r){let n=r.model[t];refs.has(n)&&(n=n());let o=typeof n;if(n instanceof String||n instanceof Number){var a=validationMap.get(n);if(!a)throw TypeError(stringifyModel(e,`You must use primitive ${typeof n.valueOf()} value for '${t}' property of the provided model definition`));n=n.valueOf(),o=typeof n,r.checks.set(t,a)}return{defaultValue:n,type:o}}function stringifyModel(e,t){return""+t+`

Model = ${JSON.stringify(e,null,2)}
`}const resolvedPromise=Promise.resolve(),configs=new WeakMap;function setupModel(r,t){if("object"!=typeof r||null===r)throw TypeError("Model definition must be an object: "+typeof r);let d=configs.get(r);if(d&&!d.enumerable){if(t&&!d.nested)throw TypeError(stringifyModel(r,"Provided model definition for nested object already used as a root definition"));if(!t&&d.nested)throw TypeError(stringifyModel(r,"Nested model definition cannot be used outside of the parent definition"))}if(!d){var n=r[connect];"object"==typeof n&&Object.freeze(n);let e;const s=hasOwnProperty.call(r,"id");var o=!!n,a=new Map;const i={toString(){return this.id||void 0}},u=Object.create(i);d={model:r,external:o,enumerable:s,nested:!s&&!o&&t,placeholder:e=>{const t=Object.create(u);return definitions.set(t,d),s&&(t.id=e),Object.freeze(t)},isInstance:e=>Object.getPrototypeOf(e)!==u,invalidate:()=>{e=e||resolvedPromise.then(()=>{invalidate(d,d,{clearValue:!0}),e=null})},checks:a},configs.set(r,d),d.storage=setupStorage(d,n||memoryStorage(d));const l=Object.keys(Object.freeze(r)).map(s=>{if("id"!==s&&Object.defineProperty(u,s,{get(){throw Error(`Model instance in ${getModelState(this).state} state - use store.pending(), store.error(), or store.ready() guards`)},enumerable:!0}),"id"===s){if(!0!==r[s])throw TypeError("The 'id' property in model definition must be set to 'true' or not be defined");return(e,t,r)=>{let n;n=hasOwnProperty.call(t,"id")?stringifyId(t.id):r?r.id:uuid(),Object.defineProperty(e,"id",{value:n,enumerable:!0})}}const{defaultValue:i,type:e}=resolveKey(r,s,d);switch(e){case"function":return e=>{let t,r;Object.defineProperty(e,s,{get(){return t||(r=i(this),t=!0),r}})};case"object":{if(null===i)throw TypeError(`The value for the '${s}' must be an object instance: `+i);if(Array.isArray(i)){var t=typeof i[0];if("object"!=t){const o=getTypeConstructor(t,s),a=Object.freeze(i.map(o));return(e,t,r)=>{if(hasOwnProperty.call(t,s)){if(!Array.isArray(t[s]))throw TypeError(`The value for '${s}' property must be an array: `+typeof t[s]);e[s]=Object.freeze(t[s].map(o))}else r&&hasOwnProperty.call(r,s)?e[s]=r[s]:e[s]=a}}const n=bootstrap(i,!0);if(n.external&&d.storage.offline&&n.storage.offline&&n.storage.offline.threshold<d.storage.offline.threshold)throw Error(`External nested model for '${s}' property has lower offline threshold (${n.storage.offline.threshold} ms) than the parent definition (${d.storage.offline.threshold} ms)`);if(n.enumerable&&i[1]){t=i[1];if("object"!=typeof t)throw TypeError(`Options for '${s}' array property must be an object instance: `+typeof t);t.loose&&(d.contexts=d.contexts||new Set,d.contexts.add(bootstrap(i[0])))}return(e,t,r)=>{if(hasOwnProperty.call(t,s)){if(!Array.isArray(t[s]))throw TypeError(`The value for '${s}' property must be an array: `+typeof t[s]);e[s]=n.create(t[s],!0)}else e[s]=r&&r[s]||!n.enumerable&&n.create(i)||[]}}const l=bootstrap(i,!0);if(l.enumerable||l.external){if(d.storage.offline&&l.storage.offline&&l.storage.offline.threshold<d.storage.offline.threshold)throw Error(`External nested model for '${s}' property has lower offline threshold (${l.storage.offline.threshold} ms) than the parent definition (${d.storage.offline.threshold} ms)`);return(e,t,r)=>{let n;if(hasOwnProperty.call(t,s)){var o=t[s];if("object"!=typeof o||null===o)null!=o&&(n={id:o});else{t=definitions.get(o);if(t){if(t.model!==i)throw TypeError("Model instance must match the definition");n=o}else n=l.create(o),syncCache(l,n.id,n)}}else n=r&&r[s];if(n){const a=n.id;Object.defineProperty(e,s,{get(){return get$1(this,s,()=>get(i,a))},enumerable:!0})}else e[s]=void 0}}return(e,t,r)=>{hasOwnProperty.call(t,s)?e[s]=l.create(t[s],r&&r[s]):e[s]=r?r[s]:l.create({})}}default:{const c=getTypeConstructor(e,s);return(e,t,r)=>{hasOwnProperty.call(t,s)?e[s]=c(t[s]):r&&hasOwnProperty.call(r,s)?e[s]=r[s]:e[s]=i}}}});d.create=function(r,n){if(null===r)return null;if("object"!=typeof r)throw TypeError("Model values must be an object instance: "+r);var e=l.reduce((e,t)=>(t(e,r,n),e),Object.create(i));return definitions.set(e,d),storePointer.set(e,store),Object.freeze(e)},Object.freeze(u),Object.freeze(d)}return d}const listPlaceholderPrototype=Object.getOwnPropertyNames(Array.prototype).reduce((e,t)=>("length"===t||"constructor"===t||Object.defineProperty(e,t,{get(){throw Error(`Model list instance in ${getModelState(this).state} state - use store.pending(), store.error(), or store.ready() guards`)}}),e),[]),lists=new WeakMap;function setupListModel(s,e){let t=lists.get(s);if(t&&!t.enumerable&&!e&&t.nested)throw TypeError(stringifyModel(s,"Nested model definition cannot be used outside of the parent definition"));if(!t){const i=setupModel(s),r=new Set;if(i.storage.loose&&r.add(i),!e){if(!i.enumerable)throw TypeError(stringifyModel(s,"Provided model definition does not support listing (it must be enumerable - set `id` property to `true`)"));if(!i.storage.list)throw TypeError(stringifyModel(s,"Provided model definition storage does not support `list` action"))}e=!i.enumerable&&!i.external&&e,t={list:!0,nested:e,model:s,contexts:r,enumerable:i.enumerable,external:i.external,storage:Object.freeze({...setupStorage(t,{cache:i.storage.cache,get:!e&&(e=>i.storage.list(e))}),offline:i.storage.offline&&{threshold:i.storage.offline.threshold,get:e=>{const t=i.storage.offline.get(hashCode(String(stringifyId(e))));return t?t.map(e=>i.storage.offline.get(e)):null},set:(e,t)=>{i.storage.offline.set(hashCode(String(stringifyId(e))),t.map(e=>(i.storage.offline.set(e.id,e),e.id)))}}}),placeholder:()=>{var e=Object.create(listPlaceholderPrototype);return definitions.set(e,t),Object.freeze(e)},isInstance:e=>Object.getPrototypeOf(e)!==listPlaceholderPrototype,create(e,a=!1){if(null===e)return null;e=e.reduce((t,r)=>{let n=r;if("object"==typeof r&&null!==r){n=r.id;var o=definitions.get(r);let e=r;if(o){if(o.model!==s)throw TypeError("Model instance must match the definition")}else e=i.create(r),i.enumerable&&(n=e.id,syncCache(i,n,e,a));i.enumerable||t.push(e)}else if(!i.enumerable)throw TypeError("Model instance must be an object: "+typeof r);if(i.enumerable){const e=t.length;Object.defineProperty(t,e,{get(){return get$1(this,e,()=>get(s,n))},enumerable:!0})}return t},[]);return definitions.set(e,t),storePointer.set(e,store),Object.freeze(e)}},lists.set(s,Object.freeze(t))}return t}function resolveTimestamp(e,t){return t||getCurrentTimestamp()}function stringifyId(r){switch(typeof r){case"object":return JSON.stringify(Object.keys(r).sort().reduce((e,t)=>{if("object"==typeof r[t]&&null!==r[t])throw TypeError(`You must use primitive value for '${t}' key: `+typeof r[t]);return e[t]=r[t],e},{}));case"undefined":return;default:return String(r)}}const notFoundErrors=new WeakSet;function notFoundError(e,t){t=Error(stringifyModel(e,`Model instance ${void 0!==t?`with '${t}' id `:""}does not exist`));return notFoundErrors.add(t),t}function mapError(e,t,r){return!1===r||notFoundErrors.has(t)||console.error(t),setModelState(e,"error",t)}function get(a,s){const i=bootstrap(a);let l;if(i.enumerable){if(l=stringifyId(s),!i.list&&!l)throw TypeError(stringifyModel(a,`Provided model definition requires non-empty id: "${l}"`))}else if(void 0!==s)throw TypeError(stringifyModel(a,"Provided model definition does not support id"));const e=i.storage.validate;if(e){const t=getEntry(i,l);t.value&&!e(t.value)&&(t.resolved=!1,t.depState=0)}const c=i.storage.offline;return get$1(i,l,(e,t)=>{if(t&&pending(t))return t;let r=!0;if(i.contexts&&i.contexts.forEach(e=>{get$1(e,e,resolveTimestamp)===getCurrentTimestamp()&&(r=!1)}),r&&t&&(!0===i.storage.cache||i.storage.validate(t)))return t;const n=()=>t||c&&i.create(c.get(l))||i.placeholder(l);try{let e=i.storage.get(s);if("object"!=typeof e||null===e)throw c&&c.set(l,null),notFoundError(a,l);if(e instanceof Promise)return e=e.then(e=>{if("object"!=typeof e||null===e)throw c&&c.set(l,null),notFoundError(a,l);e=i.create(!i.list&&l?{...e,id:l}:e);return c&&c.set(l,e),syncCache(i,l,setTimestamp(e))}).catch(e=>syncCache(i,l,mapError(n(),e))),setModelState(n(),"pending",e);t&&definitions.set(t,null);var o=i.create(!i.list&&l?{...e,id:l}:e);return c&&c.set(l,o),setTimestamp(o)}catch(e){return setTimestamp(mapError(n(),e))}})}const draftMap=new WeakMap;function getValidationError(e){const t=Object.keys(e),r=Error(`Model validation failed (${t.join(", ")}) - read the details from 'errors' property`);return r.errors=e,r}function set$1(o,t={}){let a=definitions.get(o);if(null===a&&(o=stales.get(o),a=definitions.get(o)),null===a)throw Error("Provided model instance has expired. Haven't you used stale value?");const s=!!a;a=a||bootstrap(o);const i=draftMap.get(a);if(a.nested)throw stringifyModel(a.model,TypeError("Setting provided nested model instance is not supported, use the root model instance"));if(a.list)throw TypeError("Listing model definition does not support 'set' method");if(!a.storage.set)throw stringifyModel(a.model,TypeError("Provided model definition storage does not support 'set' method"));if(s){const n=pending(o);if(n)return n.then(e=>set$1(e,t))}let l;const r=(e,t)=>{var r;s?setModelState(o,e,t):(r=getEntry(a,l)).value&&setModelState(r.value,e,t)};try{if(a.enumerable&&!s&&(!t||"object"!=typeof t))throw TypeError("Values must be an object instance: "+t);if(!i&&t&&hasOwnProperty.call(t,"id"))throw TypeError("Values must not contain 'id' property: "+t.id);const c=a.create(t,s?o:void 0),d=t?Object.keys(t):[],u={},f=s&&i&&error(o);let n=!1;if(c&&(a.checks.forEach((e,r)=>{if(-1!==d.indexOf(r)||(f&&f.errors&&f.errors[r]&&(n=!0,u[r]=f.errors[r]),!i||c[r]!=a.model[r])){let t;try{t=e(c[r],r,c)}catch(e){t=e}!0!==t&&void 0!==t&&(n=!0,u[r]=t||!0)}}),n&&!i))throw getValidationError(u);l=(c||o).id;var e=Promise.resolve(a.storage.set(s?l:void 0,c,d)).then(e=>{var t=e===c?c:a.create(e);if(s&&t&&l!==t.id)throw TypeError(`Local and storage data must have the same id: '${l}', '${t.id}'`);let r=t?t.id:l;return n&&i&&setModelState(t,"error",getValidationError(u)),i&&s&&hasOwnProperty.call(e,"id")&&(!c||c.id!==o.id)?r=o.id:a.storage.offline&&a.storage.offline.set(r,t),syncCache(a,r,t||mapError(a.placeholder(r),notFoundError(a.model,l),!1),!0)}).catch(e=>{throw e=void 0!==e?e:Error("Undefined error"),r("error",e),e});return r("pending",e),e}catch(e){return r("error",e),Promise.reject(e)}}function sync(e,t){if("object"!=typeof t)throw TypeError("Values must be an object instance: "+t);let r=definitions.get(e);if(null===r&&(e=stales.get(e),r=definitions.get(e)),null===r)throw Error("Provided model instance has expired. Haven't you used stale value?");if(void 0===r){if(!t)throw TypeError("Values must be defined for usage with model definition");r=bootstrap(e),e=void 0}else if(t&&hasOwnProperty.call(t,"id"))throw TypeError("Values must not contain 'id' property: "+t.id);if(r.list)throw TypeError("Listing model definition is not supported in sync method");var n=r.create(t,e),e=(t?n:e).id;return syncCache(r,e,n||mapError(r.placeholder(e),Error(`Model instance ${void 0!==e?` with '${e}' id`:""}does not exist`),!1))}function clear(e,t=!0){if("object"!=typeof e||null===e)throw TypeError("The first argument must be a model instance or a model definition: "+e);let r=definitions.get(e);if(null===r)throw Error("Provided model instance has expired. Haven't you used stale value from the outer scope?");if(r){const n=t&&r.storage.offline;n&&n.set(e.id,null),invalidateTimestamp(e),invalidate(r,e.id,{clearValue:t,deleteEntry:!0})}else{if(!configs.get(e)&&!lists.get(e[0]))throw Error("Model definition must be used before - passed argument is probably not a model definition");r=bootstrap(e);const o=t&&r.storage.offline;getEntries(r).forEach(e=>{o&&o.set(e.key,null),e.value&&invalidateTimestamp(e.value)}),invalidateAll(r,{clearValue:t,deleteEntry:!0})}}function pending(...e){let n=!1;var t=e.map(e=>{try{var{state:t,value:r}=getModelState(e);if("pending"===t)return n=!0,r}catch(e){}return Promise.resolve(e)});return n&&(1<e.length?Promise.all(t):t[0])}function resolveToLatest(e){const t=pending(e=stales.get(e)||e);if(t)return t.then(e=>resolveToLatest(e));var r=error(e);return r?Promise.reject(r):Promise.resolve(e)}function error(e,t){if(null===e||"object"!=typeof e)return!1;e=getModelState(e);return void 0!==t&&"object"==typeof e.error&&e.error?e.error.errors&&e.error.errors[t]:e.error}function ready(...e){return 0<e.length&&e.every(e=>{const t=definitions.get(e);return!(!t||!t.isInstance(e))})}function mapValueWithState(r,e){var t=Object.freeze(Object.keys(r).reduce((e,t)=>(Object.defineProperty(e,t,{get:()=>r[t],enumerable:!0}),e),Object.create(r)));return definitions.set(t,definitions.get(r)),set$2(t,"state",()=>getModelState(e)),t}function getValuesFromModel(e,t){return delete(e={...e,...t}).id,e}function submit(t,r={}){var e=definitions.get(t);if(!e||!draftMap.has(e))throw TypeError("Provided model instance is not a draft: "+t);if(pending(t))throw Error("Model draft in pending state");var n=draftMap.get(e);let o;return o=n.id?(e=get(n.model,t.id),Promise.resolve(pending(e)||e).then(e=>set$1(e,getValuesFromModel(t,r)))):set$1(n.model,getValuesFromModel(t,r)),o=o.then(e=>(setModelState(t,"ready"),set$1(t,e).then(()=>e))).catch(e=>(setModelState(t,"error",e),Promise.reject(e))),setModelState(t,"pending",o),o}function required(e,t){return!!e||t+" is required"}function valueWithValidation(e,t=required,r=""){switch(typeof e){case"string":e=new String(e);break;case"number":e=new Number(e);break;default:throw TypeError("Default value must be a string or a number: "+typeof e)}let n;if(t instanceof RegExp)n=e=>t.test(e)||r;else{if("function"!=typeof t)throw TypeError("The second argument must be a RegExp instance or a function: "+typeof t);n=(...e)=>{e=t(...e);return!0!==e&&void 0!==e?e||r:e}}return validationMap.set(e,n),e}function store(n,o={}){const a=bootstrap(n);if(void 0!==(o="object"!=typeof o?{id:o}:o).id&&"function"!=typeof o.id){const t=o.id;o.id=e=>e[t]}if(o.draft){if(a.list)throw TypeError("Draft mode is not supported for listing model definition");n={...n,[connect]:{get(e){e=get(a.model,e);return ready(e)?e:pending(e)},set(e,t){return null===t?{id:e}:t}}},o.draft=bootstrap(n),draftMap.set(o.draft,{model:a.model,id:o.id})}const s=o.draft&&(a.enumerable&&!o.id||!a.enumerable&&a.external),i={get:(e,t)=>{if(s&&!t){const r=o.draft.create({});return syncCache(o.draft,r.id,r,!1),get(n,r.id)}e=(o.draft||void 0===o.id)&&t?t.id:o.id&&o.id(e);const r=get(n,e);return t&&r!==t&&!ready(r)?mapValueWithState(t,r):r},connect:o.draft?(e,t)=>()=>{invalidate(e,t,{clearValue:!0}),clear(n,!1)}:void 0};return o.id||o.draft||!a.enumerable&&!a.list?a.list||(i.set=(e,t,r)=>(r&&ready(r)||(r=i.get(e)),store.set(r,t).catch(()=>{}),r)):i.set=(e,t)=>{var r=definitions.get(t);if(r){if(r===a)return t;throw TypeError("Model instance must match the definition")}return store.get(n,t)},i}Object.assign(store,{connect:connect,get:get,set:set$1,sync:sync,clear:clear,pending:pending,error:error,ready:ready,submit:submit,value:valueWithValidation,resolve:resolveToLatest,ref:ref});const map=new WeakMap,dataMap={get(e,t){var r=map.get(e);return r||(t&&map.set(e,t),t)},set(e,t){return map.set(e,t),t}};function getTemplateEnd(e){let t;for(;e&&(t=dataMap.get(e))&&t.endNode;)e=t.endNode;return e}function removeTemplate(t){if(t.nodeType!==Node.TEXT_NODE){let e=t.childNodes[0];for(;e;)t.removeChild(e),e=t.childNodes[0]}else{var r=dataMap.get(t);if(r.startNode){var n=getTemplateEnd(r.endNode);let e=r.startNode;for(var o=n.nextSibling;e;){var a=e.nextSibling;e.parentNode.removeChild(e),e=a!==o&&a}}}}const arrayMap=new WeakMap;function movePlaceholder(e,t){var r=dataMap.get(e),n=r.startNode,o=getTemplateEnd(r.endNode);t.parentNode.insertBefore(e,t.nextSibling);let a=e,s=n;for(;s;){var i=s.nextSibling;a.parentNode.insertBefore(s,a.nextSibling),a=s,s=i!==o.nextSibling&&i}}function resolveArray(r,e,t,n){let o=arrayMap.get(e);const a=t.map((e,t)=>({id:hasOwnProperty.call(e,"id")?e.id:t,value:e,placeholder:null,available:!0}));if(arrayMap.set(e,a),o){const c=new Set;a.forEach(e=>c.add(e.id)),o=o.filter(e=>!!c.has(e.id)||(removeTemplate(e.placeholder),e.placeholder.parentNode.removeChild(e.placeholder),!1))}let s=e;var i=t.length-1;const l=dataMap.get(e);for(let e=0;e<a.length;e+=1){const d=a[e];let t;if(o)for(let e=0;e<o.length;e+=1)if(o[e].available&&o[e].id===d.id){t=o[e];break}t?(t.available=!1,d.placeholder=t.placeholder,d.placeholder.previousSibling!==s&&movePlaceholder(d.placeholder,s),t.value!==d.value&&n(r,d.placeholder,d.value)):(d.placeholder=document.createTextNode(""),s.parentNode.insertBefore(d.placeholder,s.nextSibling),n(r,d.placeholder,d.value)),s=getTemplateEnd(dataMap.get(d.placeholder).endNode||d.placeholder),0===e&&(l.startNode=d.placeholder),e===i&&(l.endNode=s)}o&&o.forEach(e=>{e.available&&(removeTemplate(e.placeholder),e.placeholder.parentNode.removeChild(e.placeholder))})}const nodeMap=new WeakMap;function resolveNode(e,t,r){const n=nodeMap.get(t),o=dataMap.get(t,{});r!==n&&(n&&n.parentNode.removeChild(n),o.startNode=r,o.endNode=r,t.parentNode.insertBefore(r,t.nextSibling),nodeMap.set(t,r))}function resolveValue$1(e,t,r){let n=typeof r;switch(Array.isArray(r)?n="array":r instanceof Node&&(n="node"),dataMap.get(t,{}).type!==n&&(removeTemplate(t),"array"===n&&arrayMap.delete(t),dataMap.set(t,{type:n}),""!==t.textContent&&(t.textContent="")),n){case"function":r(e,t);break;case"array":resolveArray(e,t,r,resolveValue$1);break;case"node":resolveNode(e,t,r);break;default:t.textContent="number"===n||r?r:""}}const targets=new WeakMap;function resolveEventListener(a){return(t,r,n,e)=>{if(e){const o=targets.get(r);o&&r.removeEventListener(a,o.get(e),void 0!==e.options&&e.options)}if(n){if("function"!=typeof n)throw Error("Event listener must be a function: "+typeof n);let e=targets.get(r);e||(e=new WeakMap,targets.set(r,e));t=n.bind(null,t);e.set(n,t),r.addEventListener(a,t,void 0!==n.options&&n.options)}}}function normalizeValue(t,r=new Set){return Array.isArray(t)?t.forEach(e=>r.add(e)):null!==t&&"object"==typeof t?Object.keys(t).forEach(e=>t[e]&&r.add(e)):r.add(t),r}const classMap=new WeakMap;function resolveClassList(e,t,r){const n=classMap.get(t)||new Set,o=normalizeValue(r);classMap.set(t,o),o.forEach(e=>{t.classList.add(e),n.delete(e)}),n.forEach(e=>{t.classList.remove(e)})}const styleMap=new WeakMap;function resolveStyle(e,n,o){if(null===o||"object"!=typeof o)throw TypeError(`Style value must be an object in ${stringifyElement(n)}:`,o);const a=styleMap.get(n)||new Map;var t=Object.keys(o).reduce((e,t)=>{var r=camelToDash(t),t=o[t];return t||0===t?n.style.setProperty(r,t):n.style.removeProperty(r),e.set(r,t),a.delete(r),e},new Map);a.forEach((e,t)=>{n.style[t]=""}),styleMap.set(n,t)}function resolveProperty(o,a,s){if("on"===a.substr(0,2))return resolveEventListener(a.substr(2));switch(o){case"class":return resolveClassList;case"style":return resolveStyle;default:{let n=!1;return(e,t,r)=>{n=n||!s&&!(t instanceof SVGElement)&&a in t,n?t[a]=r:!1===r||null==r?t.removeAttribute(o):(r=!0===r?"":String(r),t.setAttribute(o,r))}}}}const TIMESTAMP=Date.now(),getPlaceholder=(e=0)=>`{{h-${TIMESTAMP}-${e}}}`,PLACEHOLDER_REGEXP_TEXT=getPlaceholder("(\\d+)"),PLACEHOLDER_REGEXP_EQUAL=new RegExp(`^${PLACEHOLDER_REGEXP_TEXT}$`),PLACEHOLDER_REGEXP_ALL=new RegExp(PLACEHOLDER_REGEXP_TEXT,"g"),preparedTemplates=new WeakMap;function applyShadyCSS(o,a){return a?shadyCSS(e=>{let t=preparedTemplates.get(o);t||(t=new Map,preparedTemplates.set(o,t));let r=t.get(a);var n;return r||(r=document.createElement("template"),r.content.appendChild(o.content.cloneNode(!0)),t.set(a,r),n=r.content.querySelectorAll("style"),Array.from(n).forEach(t=>{var r=t.childNodes.length+1;for(let e=0;e<r;e+=1)t.parentNode.insertBefore(document.createTextNode(getPlaceholder()),t)}),e.prepareTemplate(r,a.toLowerCase())),r},o):o}function createSignature(n,e){let t=n.reduce((e,t,r)=>0===r?t:n.slice(r).join("").match(/^\s*<\/\s*(table|tr|thead|tbody|tfoot|colgroup)>/)?`${e}<!--${getPlaceholder(r-1)}-->`+t:e+getPlaceholder(r-1)+t,"");return e&&(t+=`<style>
${e.join("\n/*------*/\n")}
</style>`),t}function getPropertyName(e){return e.replace(/\s*=\s*['"]*$/g,"").split(/\s+/).pop()}function replaceComments(e){const t=document.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null,!1);let r;for(;r=t.nextNode();)PLACEHOLDER_REGEXP_EQUAL.test(r.textContent)&&(r.parentNode.insertBefore(document.createTextNode(r.textContent),r),r.parentNode.removeChild(r))}function createInternalWalker(t){let r;return{get currentNode(){return r},nextNode(){if(void 0===r)r=t.childNodes[0];else if(r.childNodes.length)r=r.childNodes[0];else if(r.nextSibling)r=r.nextSibling;else{let e=r.parentNode;for(r=e.nextSibling;!r&&e!==t;)e=e.parentNode,r=e.nextSibling}return!!r}}}function createExternalWalker(e){return document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,!1)}const createWalker="object"==typeof window.ShadyDOM&&window.ShadyDOM.inUse?createInternalWalker:createExternalWalker,styleSheetsMap=new Map;function normalizeWhitespace(e,r=0){let n=(e=e.replace(/(^[\n\s\t ]+)|([\n\s\t ]+$)+/g,"")).indexOf("\n");if(-1<n){let t=0-r-2;for(n+=1;" "===e[n]&&n<e.length;n+=1)t+=1;return e.replace(/\n +/g,e=>e.substr(0,Math.max(e.length-t,1)))}return e}function beautifyTemplateLog(e,t){const r=getPlaceholder(t);return""+normalizeWhitespace(e).split("\n").filter(e=>e).map(e=>{var t=e.indexOf(r);return-1<t?`| ${e}
--`+"-".repeat(t)+"^".repeat(6):"| "+e}).join("\n").replace(PLACEHOLDER_REGEXP_ALL,"${...}")}function compileTemplate(n,u,e){const m=document.createElement("template"),g=[],y=createSignature(n,e);m.innerHTML=u?`<svg>${y}</svg>`:y,u&&(e=m.content.firstChild,m.content.removeChild(e),Array.from(e.childNodes).forEach(e=>m.content.appendChild(e))),replaceComments(m.content);const t=createWalker(m.content);let f=0;for(;t.nextNode();){const o=t.currentNode;if(o.nodeType===Node.TEXT_NODE){const a=o.textContent;if(!a.match(PLACEHOLDER_REGEXP_EQUAL)){const s=a.match(PLACEHOLDER_REGEXP_ALL);if(s){let r=o;s.reduce((e,t)=>{var[r,n]=e.pop().split(t);return r&&e.push(r),e.push(t),n&&e.push(n),e},[a]).forEach((e,t)=>{0===t?r.textContent=e:r=r.parentNode.insertBefore(document.createTextNode(e),r.nextSibling)})}}var r=o.textContent.match(PLACEHOLDER_REGEXP_EQUAL);r&&(o.textContent="",g[r[1]]=[f,resolveValue$1])}else o.nodeType===Node.ELEMENT_NODE&&Array.from(o.attributes).forEach(e=>{const i=e.value.trim(),l=e.name;var t=i.match(PLACEHOLDER_REGEXP_EQUAL);if(t){var r=getPropertyName(n[t[1]]);g[t[1]]=[f,resolveProperty(l,r,u)],o.removeAttribute(e.name)}else{const c=i.match(PLACEHOLDER_REGEXP_ALL);if(c){const d="attr__"+l;c.forEach((o,a)=>{var[,e]=o.match(PLACEHOLDER_REGEXP_EQUAL);let s=!1;g[e]=[f,(e,t,r)=>{const n=dataMap.get(t,{});n[d]=(n[d]||i).replace(o,null==r?"":r),1!==c.length&&a+1!==c.length||(s=s||!u&&!(t instanceof SVGElement)&&l in t,s?t[l]=n[d]:t.setAttribute(l,n[d]),n[d]=void 0)}]}),e.value=""}}});f+=1}return function(r,n,e,o){const a=dataMap.get(n,{type:"function"});if(m!==a.template){!a.template&&n.nodeType===Node.TEXT_NODE||removeTemplate(n),a.prevArgs=null;var s=document.importNode(applyShadyCSS(m,r.tagName).content,!0);const d=createWalker(s),u=g.slice(0);let e=0,t=u.shift();const f=[];for(a.template=m,a.markers=f;d.nextNode();){for(var i=d.currentNode;t&&t[0]===e;)f.push([i,t[1]]),t=u.shift();e+=1}if(n.nodeType===Node.TEXT_NODE){a.startNode=s.childNodes[0],a.endNode=s.childNodes[s.childNodes.length-1];let e=n,t=s.childNodes[0];for(;t;)n.parentNode.insertBefore(t,e.nextSibling),e=t,t=s.childNodes[0]}else n.appendChild(s)}var l=n.adoptedStyleSheets;if(o){let t=!1;if((o=o.map(e=>{if(e instanceof CSSStyleSheet)return e;let t=styleSheetsMap.get(e);return t||(t=new CSSStyleSheet,t.replaceSync(e),styleSheetsMap.set(e,t)),t})).length===l.length){t=!0;for(let e=0;e<o.length;e+=1)if(o[e]!==l[e]){t=!1;break}}t||(n.adoptedStyleSheets=o)}else l&&l.length&&(n.adoptedStyleSheets=[]);const c=a.prevArgs;a.prevArgs=e;for(let t=0;t<a.markers.length;t+=1){const[p,h]=a.markers[t];if(!c||c[t]!==e[t])try{h(r,p,e[t],c?c[t]:void 0)}catch(e){throw console.error(`Following error was thrown when updating a template expression in ${stringifyElement(r)}
`+beautifyTemplateLog(y,t)),e}}n.nodeType!==Node.TEXT_NODE&&shadyCSS(e=>{r.shadowRoot&&(c?e.styleSubtree(r):e.styleElement(r))})}}function resolveValue({target:e,detail:t},r){let n;switch(e.type){case"radio":case"checkbox":n=e.checked&&e.value;break;case"file":n=e.files;break;default:n=(t&&hasOwnProperty.call(t,"value")?t:e).value}r(n)}function getPartialObject(e,r){return e.split(".").reverse().reduce((e,t)=>e?{[t]:e}:{[t]:r},null)}const stringCache=new Map,storeValues=new WeakMap;function set(r,n){if(!r)throw Error("The first argument must be a property name or an object instance: "+r);if("object"==typeof r){if(void 0===n)throw Error("For model instance property the second argument must be defined");const o=storePointer.get(r);if(!o)throw Error("Provided object must be a model instance of the store");return null===n?()=>{o.set(r,null)}:(e,t)=>{resolveValue(t,e=>{var t=storeValues.get(r);t||requestAnimationFrame(()=>{var e=storeValues.get(r);storeValues.delete(r),o.set(r,e).catch(()=>{})}),storeValues.set(r,{...t,...getPartialObject(n,e)})})}}if(2===arguments.length)return e=>{e[r]=n};let e=stringCache.get(r);return e||(e=(t,e)=>{resolveValue(e,e=>{t[r]=e})},stringCache.set(r,e)),e}const promiseMap=new WeakMap;function resolve(o,e,a=200){return(t,r)=>{let n;e&&(n=setTimeout(()=>{n=void 0,requestAnimationFrame(()=>{e(t,r)})},a)),promiseMap.set(r,o),o.then(e=>{n&&clearTimeout(n),promiseMap.get(r)===o&&(resolveValue$1(t,r,e),promiseMap.set(r,null))})}}var helpers=Object.freeze({__proto__:null,set:set,resolve:resolve});const PLACEHOLDER=getPlaceholder(),SVG_PLACEHOLDER=getPlaceholder("svg"),STYLE_IMPORT_REGEXP=/@import/,templatesMap=new Map,stylesMap=new WeakMap,methods={define(...e){return define(...e),this},key(e){return this.id=e,this},style(...e){return stylesMap.set(this,(stylesMap.get(this)||[]).concat(e.filter(e=>e))),this},css(e,...n){return stylesMap.set(this,(stylesMap.get(this)||[]).concat(e.reduce((e,t,r)=>""+e+t+(n[r]||""),""))),this}};function create(i,l,c){const d=(e,t=e)=>{const r=stylesMap.get(d);let n,o=i.join(PLACEHOLDER);var a;r&&(a=r.join(PLACEHOLDER),n=!!t.adoptedStyleSheets&&!STYLE_IMPORT_REGEXP.test(a),n||(o+=a)),c&&(o+=SVG_PLACEHOLDER);let s=templatesMap.get(o);s||(s=compileTemplate(i,c,!n&&r),templatesMap.set(o,s)),s(e,t,l,n&&r)};return Object.assign(d,methods)}function html(e,...t){return create(e,t)}function svg(e,...t){return create(e,t,!0)}function QuizHero(e){const a=[...e];function s(t){return a.find(e=>e.questionId===t)}return{pushAnswer:function(e,t,r){const n=s(t);if(n){if(n.answers.find(e=>e.value===r))return[{questionId:t,answerId:r},...e];throw new Error(`can't find answer ${r} for `+t)}throw new Error("can't find question "+t)},currentQuestion:function(r){if(0===r.length){if(0===a.length)throw new Error("No questions");return{type:"question",question:a[0]}}{const{questionId:n,answerId:o}=r[0],e=s(n);if(e){var t=e.answers.find(e=>e.value===o);if(t){let e=t["next"];if("function"==typeof e&&(e=e((e,t)=>function(e,t,r){const n=s(t);{if(n){const o=n.answers.map(e=>e.value);if(0<=o.findIndex(e=>e===r))return e.find(e=>e.questionId===t).answerId===r;throw new Error(`"${r} is not a valid answer to question "${t}". (q = ${JSON.stringify(n)}, possible answers = ${o})`)}throw new Error(`new such question "${t}"`)}}(r,e,t),n)),void 0===e)throw new Error("undefined 'next'");if("string"==typeof e)return{type:"question",question:s(e)};if("boolean"==typeof e)return{type:e?"success":"failure"};throw new Error("don't understand next value "+e)}throw new Error(`can't find answer ${o} for `+n)}throw new Error("can't find question "+n)}},popAnswer:function(e){var[,...e]=e;return e}}}function back(e){e.answerStack=e.quizHero.popAnswer(e.answerStack)}function emit(e,t){dispatch$1(e,t,{detail:{answers:new Map(e.answerStack.map(({questionId:e,answerId:t})=>[e,t]))}})}function renderBackButton(e){return html`
  <div class="back-button-row">
    <a onclick="${back}" class="back-button">&lt; Back</a>
  </div>
  `}function renderQuestionCard(e,t){const{questionId:r,text:n,description:o,first:a,answers:s}=t;return emit(e,"quiz-hero-item-answered"),html`

    <div class="card-body">
      <div class="question-header">
        ${n}
      </div>

      ${o&&html`
      <div class="question-body"> ${o} </div>
      `}
      <div class="answer-row">
        ${s.map(({text:e,value:t})=>html`
        <button innerHTML="${e}" class="answer-button" onclick="${(t=>e=>{e.answerStack=e.quizHero.pushAnswer(e.answerStack,r,t)})(t)}">
        </button>
        `)}
      </div>

      ${a?"":renderBackButton()}
    </div>
  `}function renderSuccessCard(e){return html`
    <div class="card-body"> 
      <slot name="success">
        <h2>
          Default sucess message
        </h2>
        <div>
          <p>Place your failure message in slot "success"</p>
        </div>
      </slot>
      ${renderBackButton()}
    </div> 
  `}function renderFailureCard(e){return html`
    <div class="card-body"> 
      <slot name="failure">
        <h2>
          Default failure message
        </h2>
        <div>
          <p>Place your failure message in slot "failure"</p>
        </div>
      </slot>
      ${renderBackButton()}
    </div> 
  `}function renderCard(e){var t=e.quizHero.currentQuestion(e.answerStack);return"question"===t.type?renderQuestionCard(e,t.question):"failure"===t.type?(emit(e,"quiz-hero-failed"),renderFailureCard()):"success"===t.type?(emit(e,"quiz-hero-succeeded"),renderSuccessCard()):void 0}function renderStyle(e){return html`
<style>

:host { 
  display: block;
  --primary-font: sans-serif;
  --primary-color: #006c70;
  --light-color: #6C718B;
}

.card {
  border-radius: 0 0 calc(.4rem - 1px) calc(.4rem - 1px) ;
  box-shadow: 0 14px 25px 1px rgba(41,49,89,0.3);
  background-color: white;
}

.card * {
  text-align: center;
  font-family: var(--primary-font);
}

.card-header {
  border-radius: calc(.4rem - 1px) calc(.4rem - 1px) 0 0 ;
  font-size: 1.5rem;
  font-weight: 500;
  color: white;
  background-color: var(--primary-color);
  text-align: center;
  padding: 1% 2%;
}

.card-body {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 4% 6%;
}

.question-header {
  font-size: 1.5rem;
  font-weight: 500;
  padding: 0 0 2% 0;
  text-align: center;
}

.question-body {
  color: var(--light-color);
  font-size: 1.25rem;
  font-weight: 300;
  padding: 0 0 2% 0;
  text-align: center;
}

slot[name="failure"] {
}

.answer-row {
  display: flex;
  justify-content: center;
  align-content: center;
  flex-direction: row;
  flex-wrap: wrap;
}

.answer-button {
  border: 1px solid transparent;
  border-color: var(--primary-color);
  border-radius: .4rem;
  min-width: 150px;
  min-height: 150px;
  font-size: 1.25rem;
  font-weight: 500;
  margin: 10px;

  background-color: white;
  color: var(--primary-color);
}

.answer-button:hover {
  color: white;
  background-color: var(--primary-color);
}

.back-button-row {
  padding-top: 2%;
}

.back-button {
  color: var(--primary-color);
  font-size: 1.4rem;
  text-decoration: none;
}
</style>
  `}function render(e){return html`
    ${renderStyle()}
    <div class="card">
      <div class="card-header">
        <slot name="title">
        Your quiz title here
        </slot>
      </div>

      ${void 0!==e.quizHero.pushAnswer?renderCard(e):""}
    </div>
  `}Object.assign(html,helpers),Object.assign(svg,helpers),define({tag:"quiz-hero",answerStack:[],questions:property([],void 0,e=>{e.quizHero=QuizHero(e.questions)}),quizHero:property({}),render:render});export{QuizHero as default};
